\section*{謝辞}
\begin{center}
この本を読んでくださる方に \\
気力をくれる友人に \\
大切な人に \\
感謝と本書をささげます
\end{center}

\section*{初版前書き}
ネットワーク対応製品を開発していても、プログラマはTCP/IPやイーサネットのことをあまりよく理解していない。そんな現状があります。

そうでなくても、ゲーム用のNICなんてオカルトな製品が出てくる世の中。同じお金で、Intelか3comのNICを買っておいたほうが幸せになれる、ということを理解するためには、ネットワーク技術の知識が欠かせません。

本書は、そのための解説書として作成しました。TCP/IP理解の一助となれば幸いです。


\section*{改訂版前書き}
コミックマーケット78で本書の初版を出しました。90ページ近いとはいえ、コピー本としては500円という無茶な値段\footnote{キンコーズでのコピー代とホチキスの3号針の代金を回収させていただいた程度です。}にもかかわらず、もっていった20部が午前中に完売という、ありがたくも自分にとっての誤算となる事態となりました。

その後、見本誌を自分でチェックすると細かい間違いも誤字脱字もいっぱいみつけて…テクノポリスかゲーメストか、という有様に、単なる再版でなく、全面的なリライトをしたのが、本書です。

IPv4という、当面使い続けることになるとしても、いつかIPv6に取って代わられてほしいテクノロジーをもとに解説していくのもどうかと思いました。せっかく同人誌なのだから、IPv6でTCP/IPの教科書というのも…さすがに無理です。

本というのは、著者が理解していない項目を文章にしても、読者には理解してもらえません。本書は、著者の判る範囲でTCP/IPについてまとめています。

\section*{第三版前書き}
コミックマーケット79ではじめてオンデマンド本にした改訂版も、コミックマーケット80にて完売させていただきました。
そうなるとまた直したくなるもので…それなんてオライリー商法、という感じではありますが、現在の知識をもとに、記事の追加修正を行いました。こっそり間違いも直しています。

一番大きな変更は、章立てを見直したことでしょう。本書の二章と三章、七章から九章までは､前の版ではひとつの章でした。分割することで、異なることの詰め込み感があったことを少しなりとも解消できたかなと思います。、

またIPv4か、という感想を頂く覚悟はしていますが、やはりIPv4は現在のインターネット技術の基本です。完売した\footnote{本書改訂版でなくもちろんIPv4アドレスのことです。}とはいえまだまだ現場では現役でしょう。\footnote{IPv6環境での疑似ヘッダってどうなるんだろう…}
IPv6を理解する基礎体力作りに、是非本書をご活用ください。

インターネットで使用されている技術の基礎を、少しなりとも理解していただく助けになれば幸いです。少なくとも、参考文献に期した書籍をひもとくきっかけになれればと思います。

\section*{第四版前書き}
当サークルで毎回サークルカットに書いているくせに、出そうで出ない本であった本書ですが、5年のブランクを経て、ようやく、更なる改訂版が出せました。今回は、念願のIPv6対応です。

今回は、章立てを大胆に入れ替えてみました。これまではネットワークアクセス層から上のレイヤに向かっての説明を行っていたのですが、アプリケーション層からトランスポート層への説明、ネットワークアクセス層の説明を経て、、いわば上のレイヤと下のレイヤの知識を付けてから、インターネットプロトコル層について学ぶ形にしてみました。

また、本書ではUDPが一番最後の章という変則的な後世になっています。これは、パケットそのものであるUDPは、いわばパンツをはいたIPである、という理屈のもと、UDPの理解にはIPの理解が必要なのではないか、そう考えたからです。

また、すっかり当サークルの顔になっている、インフラエンジニアの毒舌な妹に、章の序文と、いもうとコラムというコーナーを担当して貰いました。本書では、インフラエンジニアの毒舌名妹は、TCP/IPについて、いろいろな関連知識の説明を担当しています。


特にIPv6についてはまだまだ書き足りないところもありますが、IPv4を使うTCP/IPと、IPv6を使うTCP/IP、その同じところ、違うところの知見を得ていただければ、筆者としては幸いです。

\section*{第六版前書き}
世の中は、スマホアプリを始めとして、ネットワーク対応のアプリケーションがあふれています。
その状況で、TCP/IPについて、基本的な部分を纏めた本というのはあまりありません。流行りの言語やフレームワークと比べると、新規性がないせいか数量的な見劣りがします。

そんな中、本書は、TCP/IPのことをわからないと言えないままネットワークアプリケーションを開発しているエンジニアが、TCP/IPの基本を理解するための本として、加筆訂正を行いました。

特に、IPv6については、IPv4ベースのTCP/IPの理解を前提としているネットワークエンジニア向けの本が多いため、TCP/IPの一部として初学者が学ぶためのテキストとは多くありません。
そこで、今回の版では、第四版からIPv6に関する記述を増やし、TCP/IPのなかにあるiPv6を意識して貰えるようにしました。
また、第四版は、TCP/IPのレイヤーの順番に拘らない解説を試みたのですが、立ち入った説明をするための前提条件の説明のため、代三版以前の構成に戻しています。

あわせて、プロキシ、｀NATN、NAPTに関する記事を追加しました。これらは現在では家庭のネットワークにも存在するものです。ネットワークアプリケーションを開発するときに意識しておくべきものであるため、コミックマーケット92で出した同人誌から再録し、本書の内容に合わせての加筆訂正を行っています。

皆様が、TCP/IPについて知る一助となれば、著者としてこれに勝る喜びはありません。

\section*{想定する読者}
IT関連でプログラマなどをしていて、普段はネットワークのことを気にしない人に、TCP/IPと、その物理インフラの代表であるイーサネットについて、について最低限理解してもらう、というコンセプトで書いています。想定する読者は、TCP/IPについて、正面から勉強したことはないけれど、何となくネットワークアプリケーションのプログラムを書いている、そんなエンジニアです。

そのため、インフラエンジニアの視点で見ると若干物足りない部分があるかと思います。この点は今後の本で埋めていきたいところです。


\section*{本書の内容}
本書では、TCP/IPについて、IPv4とIPv6を一度に学習するというコンセプトで、TCP/IPの解説を行っています。

\paragraph{第一章}
TCP/IPというプロトコルの概論と、おおまかな全体像と、プロトコルスタックの概念についてについて説明します。TCP/IPは、複数のプロトコルが、役割を分担しながら他のプロトコルにサービスしたり、他のプロトコルからサービスを受けたりして通信をすることについての説明です。

\paragraph{第二章}
ネットワークの物理媒体とその上での通信である、ネットワークアクセス層の概論と、一番簡単なネットワークである、エンドとエンドにホストがある、一対一通信のネットワークについての説明です。

\paragraph{第三章}
ネットワークアクセス層で、一つの伝送媒体を複数のホストが共有するネットワークについて、説明を行います。その代表として、イーサネットの説明を行います。

\paragraph{第四章}
トランスポート層についての概論的な説明です。トランスポート層における確実な通信とは何か、確実な通信が要らない場合、どのように通信を行うか、上位のアプリケーションとの対応付けはどのようにおこなうか、UDPやTCPの理解のために必要な知識についての説明をします。

\paragraph{第五章}
トランスポート層のプロトコルのひとつであるUDPについて説明します。UDPは、インターネットプロトコル層の機能に、ポートによる通信多重化とエラー検出を付加した、比較的簡単な簡単なトランスポート層となります。

\paragraph{第六章}
トランスポート層のプロトコルのひとつ、ストリーム通信を提供するTCPについて説明します。TCPは下位のプロトコルが何であるかにもかかわらず、確実な通信を提供するプロトコルです。

\paragraph{第七章}
アプリケーション層についての説明となります。電子メールのSMTPなど、アプリケーション層のプロトコルについて説明をします。また、アプリケーションでIPv6対応ついても説明をします。

\paragraph{第八章}
アプリケーション層での通信を中継するプロキシについて説明します。
プロキシという、ルータと別の概念で中継をするというのはどういうことかについての解説です。

\paragraph{第九章}
プロキシという概念でインターネットプロトコル層の中継をおこなうNATについての説明をします。TCP/IPの知識を踏まえて、中継のためにヘッダ情報を書き換えることの副作用について乃解説を行います。



\paragraph{第十章}
トランスポート層の中継を行うプロキシであるNAPTについて説明します。IPv4ベースのネットワークで、少ないグローバルアドレスを共有するための技術であり、現在のインターネットを理解するためには必要な概念です。


\section*{免責事項}
本書に書いてあることは、筆者知識のレベルでまとめたものです。ですが、内容が正しいとは言い切れません。初版でも改訂版でも相当やらかしています。また、学校のレポート、業務などのコードを書く際に、本書の内容を信じて書いて損害が生じても、筆者にその責任はありません。

くれぐれも、自己責任と十分な検証の上、ご利用ください。

\section*{表紙イラスト}
ゆうちゃん （コース英知)